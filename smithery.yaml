# Smithery configuration file: https://smithery.ai/docs/deployments

build:
  dockerBuildPath: ./

startCommand:
  configSchema:
    type: object
    required:
      - SLACK_BOT_TOKEN
      - SLACK_TEAM_ID
    properties:
      SLACK_BOT_TOKEN:
        type: string
        description: Slack 봇 토큰
      SLACK_TEAM_ID:
        type: string
        description: Slack 워크스페이스 팀 ID
      SLACK_CHANNEL_IDS:
        type: string
        description: (선택) 사전 정의된 채널 ID 목록(쉼표로 구분)
  commandFunction: |-
    (config) => ({
      command: 'node',
      args: ['dist/index.js'],
      env: {
        SLACK_BOT_TOKEN: config.SLACK_BOT_TOKEN,
        SLACK_TEAM_ID: config.SLACK_TEAM_ID,
        SLACK_CHANNEL_IDS: config.SLACK_CHANNEL_IDS
      }
    })
  type: stdio